<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ChÃºc má»«ng sinh nháº­t TrÃ  My ğŸ©·</title>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12"></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <style>
    body {
      font-family: 'Dancing Script', cursive;
      background: linear-gradient(135deg, #1a1a2e, #162447);
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      margin: 0;
      flex-direction: column;
      overflow-x: hidden;
      padding: 20px;
      box-sizing: border-box;
      position: relative;
    }
    .sparkle {
      position: absolute;
      width: 4px;
      height: 4px;
      background: #f7e68a;
      border-radius: 50%;
      opacity: 0.7;
      animation: sparkle 3s infinite;
    }
    @keyframes sparkle {
      0% { transform: scale(1); opacity: 0.7; }
      50% { transform: scale(1.5); opacity: 0.3; }
      100% { transform: scale(1); opacity: 0.7; }
    }
    .card {
      background-color: rgba(255, 255, 255, 0.15);
      border-radius: 20px;
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
      padding: 30px;
      text-align: center;
      max-width: 500px;
      width: 100%;
      margin: 20px 0;
      border: 1px solid rgba(255, 255, 255, 0.2);
      display: none;
      animation: fadeIn 1s ease-in-out;
    }
    .card.active {
      display: block;
    }
    .welcome-text, .love-text, .cake-text {
      font-size: 2.2rem;
      color: #f7e68a;
      margin-bottom: 25px;
      min-height: 100px;
      position: relative;
    }
    .love-text {
      min-height: 120px;
    }
    .fun-fact {
      font-size: 1.2rem;
      color: #ff8aa6;
      margin: 10px 0;
      opacity: 0;
      animation: textFade 0.5s forwards;
    }
    .letter {
      font-size: 1.4rem;
      color: #fff;
      line-height: 1.6;
    }
    .cake-img {
      max-width: 80%;
      height: auto;
      border-radius: 10px;
      margin: 20px 0;
      position: relative;
      transition: transform 0.2s;
    }
    .cake-img.shake {
      transform: rotate(2deg);
      animation: shake 0.3s;
    }
    .candle {
      position: absolute;
      width: 30px;
      height: 30px;
      top: -40px;
      cursor: pointer;
      background: url('https://i.imgur.com/7kQ3n5z.gif') no-repeat center;
      background-size: contain;
    }
    .button-container {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-top: 20px;
    }
    button {
      padding: 12px 25px;
      font-size: 1.2rem;
      background: linear-gradient(45deg, #ff8aa6, #ff5b7a);
      color: white;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s, opacity 0.5s;
    }
    button:hover {
      transform: scale(1.05);
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
    }
    button:disabled {
      background: #888;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }
    #continueButton {
      display: none;
      opacity: 0;
      animation: textFade 0.5s forwards;
    }
    .heart {
      position: absolute;
      color: #ff4d6d;
      font-size: 1.2rem;
      animation: heartFloat 2.5s ease-out forwards;
      pointer-events: none;
    }
    @keyframes heartFloat {
      0% { transform: translateY(0) rotate(0deg); opacity: 1; }
      100% { transform: translateY(-150px) rotate(20deg); opacity: 0; }
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @keyframes textFade {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    @keyframes shake {
      0% { transform: rotate(0deg); }
      25% { transform: rotate(2deg); }
      50% { transform: rotate(-2deg); }
      75% { transform: rotate(2deg); }
      100% { transform: rotate(0deg); }
    }
    @media (max-width: 600px) {
      .card { padding: 20px; max-width: 90%; }
      .welcome-text, .love-text, .cake-text { font-size: 1.8rem; min-height: 80px; }
      .letter { font-size: 1.2rem; }
      button { font-size: 1rem; padding: 10px 20px; }
      .cake-img { max-width: 90%; }
      .candle { width: 25px; height: 25px; top: -30px; }
    }
  </style>
</head>
<body>
  <div class="sparkle" style="top: 10%; left: 20%;"></div>
  <div class="sparkle" style="top: 30%; left: 70%;"></div>
  <div class="sparkle" style="top: 60%; left: 40%;"></div>
  <div class="sparkle" style="top: 80%; left: 90%;"></div>

  <div class="card active" id="welcomeScreen">
    <div class="welcome-text" id="welcomeText"></div>
    <div class="button-container">
      <button onclick="goToLove()">Báº¯t Ä‘áº§u nÃ o ğŸ˜š</button>
    </div>
  </div>
  <div class="card" id="loveScreen">
    <div class="love-text" id="loveText">Nháº¥n Ä‘á»ƒ biáº¿t thÃªm chi tiáº¿t :))</div>
    <div class="fun-fact" id="funFact"></div>
    <div class="button-container">
      <button id="loveButton" onclick="showLove()">Cho em biáº¿t Ä‘i ğŸ˜š</button>
      <button id="continueButton" onclick="goToLetter()">Tiáº¿p tá»¥c nÃ¨ ğŸ’Œ</button>
    </div>
  </div>
  <div class="card" id="letterScreen">
    <h2>ThÆ° gá»­i m ğŸ©·</h2>
    <p class="letter">
      Trmy, sinh nháº­t em nÄƒm nay anh chá»‰ muá»‘n nÃ³i lÃ  anh cáº£m Æ¡n em vÃ¬ Ä‘Ã£ xuáº¥t hiá»‡n trong Ä‘á»i anh. ChÃºc trmy má»™t ngÃ y tháº­t háº¡nh phÃºc, mÃ£i yÃªu anh nhÃ³ ğŸ‰
    </p>
    <div class="button-container">
      <button onclick="goToCake()">Äáº¿n báº¥t ngá» cuá»‘i nha ğŸ‚</button>
    </div>
  </div>
  <div class="card" id="cakeScreen">
    <div class="cake-text" id="cakeText">ChÃºc má»«ng sinh nháº­t trmyy! Thá»•i náº¿n nÃ o ğŸ‰</div>
    <div style="position: relative;">
      <img class="cake-img" src="https://i.imgur.com/8bX7z5r.png" alt="BÃ¡nh sinh nháº­t">
      <div class="candle" id="candle1" style="left: 35%;" onclick="blowCandle(this)"></div>
      <div class="candle" id="candle2" style="left: 50%;" onclick="blowCandle(this)"></div>
      <div class="candle" id="candle3" style="left: 65%;" onclick="blowCandle(this)"></div>
    </div>
    <div class="button-container">
      <button onclick="resetGame()">Xem láº¡i tá»« Ä‘áº§u ğŸ’•</button>
    </div>
    <audio id="cheerSound" src="https://screenapp.io/app/#/shared/RnV0FwShAw"></audio>
  </div>
  <audio id="bgMusic" loop>
    <source src="https://screenapp.io/app/#/shared/RnV0FwShAw" type="audio/mp3">
    <!-- BÃ i "Sweet" tá»« Pixabay, nháº¹ nhÃ ng, lÃ£ng máº¡n -->
  </audio>
  <button onclick="toggleMusic()" style="position: fixed; top: 20px; right: 20px;">Báº­t Nháº¡c ğŸ¶</button>

  <script>
    const thingsILove = [
      "Ná»¥ cÆ°á»i ngu ngu cá»§a m mÃ  t mÃª tÃ­t ğŸ˜š",
      "CÃ¡ch m gá»i t má»—i láº§n giáº­n dá»—i, nghe mÃ  t muá»‘n xá»‰u ğŸ˜†",
      "Khi m tá»± nhiÃªn nháº¯n tin há»i 't Äƒn chÆ°a', nghe tÆ°á»Ÿng Ä‘Æ¡n giáº£n mÃ  áº¥m vÃ£i ğŸ¥º",
      "T thÃ­ch cÃ¡i kiá»ƒu m ká»ƒ chuyá»‡n linh tinh, dÃ¹ chuyá»‡n cháº£ Ä‘Ã¢u vÃ o Ä‘Ã¢u ğŸ˜",
      "Khi m im láº·ng nhÆ°ng váº«n chá»‹u nghe t xÃ m xÃ­, yÃªu cá»±c luÃ´n Ã¡ ğŸ©µ",
      "CÃ¡ch m hay nhÃµng nháº½o kiá»ƒu 'em hÆ° láº¯m', nghe mÃ  t chá»‹u thua luÃ´n ğŸ˜©",
      "Ãnh máº¯t m lÃºc cÆ°á»i â€“ t nghiá»‡n tháº­t sá»± ğŸ˜³",
      "Chá»‰ cáº§n cÃ³ m, tá»± nhiÃªn má»i thá»© bá»›t chÃ¡n liá»n ğŸ’«",
      "T thÃ­ch cáº£ cÃ¡i lÃºc m chÃª t, nhÆ°ng máº·t váº«n thÆ°Æ¡ng thÆ°Æ¡ng ğŸ˜Œ",
      "Ká»ƒ cáº£ lÃºc m khÃ´ng nÃ³i gÃ¬, chá»‰ cáº§n m á»Ÿ Ä‘Ã³ lÃ  Ä‘á»§ ğŸ˜Œ",
      "CÃ¡i cÃ¡ch m lÃ©n nhÃ¬n t, tÆ°á»Ÿng t khÃ´ng biáº¿t Ä‘Ã¢u nha ğŸ˜",
      "Má»—i láº§n m náº¯m tay t, t cáº£m giÃ¡c nhÆ° cáº£ tháº¿ giá»›i lÃ  cá»§a mÃ¬nh ğŸ¥°",
      "T thÃ­ch cÃ¡i mÃ¹i hÆ°Æ¡ng cá»§a m, dÃ¹ chá»‰ thoáº£ng qua thÃ´i cÅ©ng Ä‘á»§ lÃ m t nhá»› ğŸ’•",
      "CÃ¡ch m nhÄƒn máº·t khi Äƒn mÃ³n khÃ´ng thÃ­ch, dá»… thÆ°Æ¡ng xá»‰u ğŸ˜…",
      "Má»—i láº§n m hÃ¡t vu vÆ¡, t chá»‰ muá»‘n dá»«ng thá»i gian láº¡i ğŸ¶",
      "T mÃª cÃ¡ch m luÃ´n tÃ¬m lÃ½ do Ä‘á»ƒ kÃ©o t Ä‘i Äƒn cÃ¹ng ğŸ”",
      "CÃ¡i hÃ´m m máº·c Ã¡o t táº·ng, t ngáº¯m m hoÃ i luÃ´n Ã¡ ğŸ˜",
      "T thÃ­ch nghe m ká»ƒ vá» Æ°á»›c mÆ¡, dÃ¹ lá»›n hay nhá» t cÅ©ng muá»‘n cÃ¹ng m thá»±c hiá»‡n ğŸŒŸ",
      "Khi m ngá»§ quÃªn lÃºc xem phim, t chá»‰ muá»‘n Ã´m m mÃ£i ğŸ¥º",
      "CÃ¡ch m hay trÃªu t, dÃ¹ biáº¿t t dá»… Ä‘á» máº·t ğŸ˜³",
      "T yÃªu cáº£ nhá»¯ng lÃºc m giáº­n, vÃ¬ m váº«n cute khÃ´ng chá»‹u Ä‘Æ°á»£c ğŸ˜˜",
      "Má»—i tin nháº¯n m gá»­i, t Ä‘á»c Ä‘i Ä‘á»c láº¡i cáº£ chá»¥c láº§n ğŸ©·",
      "Chá»‰ cáº§n m cÆ°á»i, t biáº¿t t lÃ m gÃ¬ cÅ©ng Ä‘Ã¡ng luÃ´n Ã¡ ğŸ‰"
    ];
    const funFacts = [
      "M nhá»› láº§n Ä‘áº§u t kÃ©o m Ä‘i Äƒn khuya khÃ´ng? ğŸ˜",
      "Láº§n m hÃ¡t karaoke, t chá»‰ muá»‘n nghe mÃ£i thÃ´i ğŸ¤",
      "CÃ¡i hÃ´m m máº·c Ã¡o t thÃ­ch, t ngáº¯m m cáº£ ngÃ y luÃ´n Ã¡ ğŸ˜³",
      "M biáº¿t khÃ´ng, t giá»¯ háº¿t tin nháº¯n m gá»­i t nÃ¨ ğŸ¥°",
      "Láº§n m lÃ m rÆ¡i kem, t vá»«a buá»“n cÆ°á»i vá»«a thÆ°Æ¡ng ğŸ˜…",
      "CÃ¡i hÃ´m m ngá»§ quÃªn trÃªn vai t, t khÃ´ng dÃ¡m nhÃºc nhÃ­ch luÃ´n ğŸ¥º",
      "M nhá»› láº§n t cá»‘ náº¥u Äƒn cho m khÃ´ng, chÃ¡y cáº£ báº¿p mÃ  m váº«n khen ğŸ˜",
      "T giá»¯ cÃ¡i vÃ© xem phim láº§n Ä‘áº§u mÃ¬nh Ä‘i cÃ¹ng nhau nÃ¨ ğŸ¬"
    ];
    let clickCount = 0;
    let candlesBlown = 0;
    const music = document.getElementById("bgMusic");
    const cheerSound = document.getElementById("cheerSound");
    const continueButton = document.getElementById("continueButton");
    const loveButton = document.getElementById("loveButton");

    new Typed('#welcomeText', {
      strings: ["ChÃ o iem yÃªuuu, sáºµn sÃ ng khÃ¡m phÃ¡ mÃ³n quÃ  sinh nháº­t chÆ°a? ğŸ©·"],
      typeSpeed: 50,
      showCursor: false,
    });

    function createHeart() {
      for (let i = 0; i < 3; i++) {
        const heart = document.createElement("div");
        heart.className = "heart";
        heart.innerHTML = "â¤ï¸";
        heart.style.left = `${Math.random() * 100}vw`;
        heart.style.top = `${Math.random() * 50 + 50}vh`;
        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 2500);
      }
    }

    function fireConfetti() {
      confetti({
        particleCount: 150,
        spread: 80,
        origin: { y: 0.6 },
        colors: ['#ff6b8a', '#ff4d6d', '#f7e68a']
      });
    }

    function showLove() {
      const text = document.getElementById("loveText");
      const funFact = document.getElementById("funFact");
      text.style.animation = "none";
      funFact.style.animation = "none";
      setTimeout(() => {
        text.style.animation = "textFade 0.5s forwards";
        funFact.style.animation = "textFade 0.5s forwards";
      }, 10);
      if (clickCount >= thingsILove.length) {
        text.textContent = "Háº¿t rá»“i, nhÆ°ng anh váº«n cÃ²n cáº£ tá»· lÃ½ do Ä‘á»ƒ yÃªu em ğŸ©·";
        funFact.textContent = "";
        continueButton.style.display = "block";
        fireConfetti();
        return;
      }
      text.textContent = thingsILove[clickCount]; // Hiá»ƒn thá»‹ theo thá»© tá»±
      funFact.textContent = funFacts[Math.floor(Math.random() * funFacts.length)];
      clickCount++;
      loveButton.disabled = true;
      setTimeout(() => {
        loveButton.disabled = false;
      }, 3000); // Delay 3 giÃ¢y
      if (clickCount === thingsILove.length) {
        continueButton.style.display = "block";
      }
      createHeart();
      fireConfetti();
    }

    function goToLove() {
      document.getElementById("welcomeScreen").classList.remove("active");
      document.getElementById("loveScreen").classList.add("active");
    }

    function goToLetter() {
      document.getElementById("loveScreen").classList.remove("active");
      document.getElementById("letterScreen").classList.add("active");
    }

    function goToCake() {
      document.getElementById("letterScreen").classList.remove("active");
      document.getElementById("cakeScreen").classList.add("active");
    }

    function blowCandle(candle) {
      candle.style.display = "none";
      document.querySelector(".cake-img").classList.add("shake");
      setTimeout(() => document.querySelector(".cake-img").classList.remove("shake"), 300);
      candlesBlown++;
      if (candlesBlown === 3) {
        fireConfetti();
        cheerSound.play().catch(err => console.error("Lá»—i phÃ¡t Ã¢m thanh:", err));
        document.getElementById("cakeText").textContent = "ChÃºc m sinh nháº­t vui váº», yÃªu m nhiá»u láº¯m! ğŸ©·";
      }
    }

    function resetGame() {
      clickCount = 0;
      candlesBlown = 0;
      document.getElementById("cakeScreen").classList.remove("active");
      document.getElementById("loveScreen").classList.add("active");
      document.getElementById("loveText").textContent = "Nháº¥n Ä‘á»ƒ biáº¿t t thÃ­ch gÃ¬ á»Ÿ m nÃ¨ ğŸ©·";
      document.getElementById("funFact").textContent = "";
      continueButton.style.display = "none";
      document.querySelectorAll(".candle").forEach(candle => candle.style.display = "block");
      document.getElementById("cakeText").textContent = "ChÃºc má»«ng sinh nháº­t m! Thá»•i náº¿n nÃ o ğŸ‰";
    }

    function toggleMusic() {
      const button = event.target;
      if (music.paused) {
        music.play().then(() => {
          button.textContent = "Táº¯t Nháº¡c ğŸ¶";
        }).catch(err => {
          console.error("Lá»—i phÃ¡t nháº¡c:", err);
          alert("KhÃ´ng thá»ƒ phÃ¡t nháº¡c. Vui lÃ²ng kiá»ƒm tra trÃ¬nh duyá»‡t hoáº·c link nháº¡c!");
        });
      } else {
        music.pause();
        button.textContent = "Báº­t Nháº¡c ğŸ¶";
      }
    }
  </script>
</body>
  </html>
