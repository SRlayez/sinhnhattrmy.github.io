<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ChÃºc má»«ng sinh nháº­t TrÃ  My ğŸ©·</title>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12"></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <style>
    body {
      font-family: 'Dancing Script', cursive;
      background: linear-gradient(135deg, #1a1a2e, #162447);
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      margin: 0;
      flex-direction: column;
      overflow-x: hidden;
      padding: 20px;
      box-sizing: border-box;
      position: relative;
    }
    .sparkle {
      position: absolute;
      width: 4px;
      height: 4px;
      background: #f7e68a;
      border-radius: 50%;
      opacity: 0.7;
      animation: sparkle 3s infinite;
    }
    @keyframes sparkle {
      0% { transform: scale(1); opacity: 0.7; }
      50% { transform: scale(1.5); opacity: 0.3; }
      100% { transform: scale(1); opacity: 0.7; }
    }
    .card {
      background-color: rgba(255, 255, 255, 0.15);
      border-radius: 20px;
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
      padding: 30px;
      text-align: center;
      max-width: 500px;
      width: 100%;
      margin: 20px 0;
      border: 1px solid rgba(255, 255, 255, 0.2);
      display: none;
      animation: fadeIn 1s ease-in-out;
    }
    .card.active {
      display: block;
    }
    .welcome-text, .love-text, .cake-text {
      font-size: 2.2rem;
      color: #f7e68a;
      margin-bottom: 25px;
      min-height: 100px;
      position: relative;
    }
    .love-text {
      min-height: 120px;
    }
    .fun-fact {
      font-size: 1.2rem;
      color: #ff8aa6;
      margin: 10px 0;
      opacity: 0;
      animation: textFade 0.5s forwards;
    }
    .letter {
      font-size: 1.4rem;
      color: #fff;
      line-height: 1.6;
    }
    .cake-img {
      max-width: 80%;
      height: auto;
      border-radius: 10px;
      margin: 20px 0;
      position: relative;
      transition: transform 0.2s;
    }
    .cake-img.shake {
      transform: rotate(2deg);
      animation: shake 0.3s;
    }
    .candle {
      position: absolute;
      width: 30px;
      height: 30px;
      top: -40px;
      cursor: pointer;
      background: url('https://i.imgur.com/7kQ3n5z.gif') no-repeat center;
      background-size: contain;
    }
    .button-container {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-top: 20px;
    }
    button {
      padding: 12px 25px;
      font-size: 1.2rem;
      background: linear-gradient(45deg, #ff8aa6, #ff5b7a);
      color: white;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s, opacity 0.5s;
    }
    button:hover {
      transform: scale(1.05);
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
    }
    button:disabled {
      background: #888;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }
    #continueButton {
      display: none;
      opacity: 0;
      animation: textFade 0.5s forwards;
    }
    .heart {
      position: absolute;
      color: #ff4d6d;
      font-size: 1.2rem;
      animation: heartFloat 2.5s ease-out forwards;
      pointer-events: none;
    }
    @keyframes heartFloat {
      0% { transform: translateY(0) rotate(0deg); opacity: 1; }
      100% { transform: translateY(-150px) rotate(20deg); opacity: 0; }
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @keyframes textFade {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    @keyframes shake {
      0% { transform: rotate(0deg); }
      25% { transform: rotate(2deg); }
      50% { transform: rotate(-2deg); }
      75% { transform: rotate(2deg); }
      100% { transform: rotate(0deg); }
    }
    @media (max-width: 600px) {
      .card { padding: 20px; max-width: 90%; }
      .welcome-text, .love-text, .cake-text { font-size: 1.8rem; min-height: 80px; }
      .letter { font-size: 1.2rem; }
      button { font-size: 1rem; padding: 10px 20px; }
      .cake-img { max-width: 90%; }
      .candle { width: 25px; height: 25px; top: -30px; }
    }
  </style>
</head>
<body>
  <div class="sparkle" style="top: 10%; left: 20%;"></div>
  <div class="sparkle" style="top: 30%; left: 70%;"></div>
  <div class="sparkle" style="top: 60%; left: 40%;"></div>
  <div class="sparkle" style="top: 80%; left: 90%;"></div>

  <div class="card active" id="welcomeScreen">
    <div class="welcome-text" id="welcomeText"></div>
    <div class="button-container">
      <button onclick="goToLove()">Báº¯t Ä‘áº§u nÃ o ğŸ˜š</button>
    </div>
  </div>
  <div class="card" id="loveScreen">
    <div class="love-text" id="loveText">Nháº¥n Ä‘á»ƒ biáº¿t máº¥y Ä‘iá»u vu vÆ¡ :))</div>
    <div class="fun-fact" id="funFact"></div>
    <div class="button-container">
      <button id="loveButton" onclick="showLove()">Cho em biáº¿t Ä‘i ğŸ˜š</button>
      <button id="continueButton" onclick="goToLetter()">Tiáº¿p tá»¥c nÃ¨ ğŸ’Œ</button>
    </div>
  </div>
  <div class="card" id="letterScreen">
    <h2>ThÆ° gá»­i m ğŸ©·</h2>
    <p class="letter">
      Trmy, sinh nháº­t em nÄƒm nay anh chá»‰ muá»‘n nÃ³i lÃ  anh cáº£m Æ¡n em vÃ¬ Ä‘Ã£ xuáº¥t hiá»‡n trong Ä‘á»i anh. ChÃºc trmy má»™t ngÃ y tháº­t háº¡nh phÃºc, mÃ£i yÃªu anh nhÃ³ ğŸ‰
    </p>
    <div class="button-container">
      <button onclick="goToCake()">Äáº¿n báº¥t ngá» cuá»‘i nha ğŸ‚</button>
    </div>
  </div>
  <div class="card" id="cakeScreen">
    <div class="cake-text" id="cakeText">ChÃºc má»«ng sinh nháº­t trmyy! Thá»•i náº¿n nÃ o ğŸ‰</div>
    <div style="position: relative;">
      <img class="cake-img" src="https://i.imgur.com/8bX7z5r.png" alt="BÃ¡nh sinh nháº­t">
      <div class="candle" id="candle1" style="left: 35%;" onclick="blowCandle(this)"></div>
      <div class="candle" id="candle2" style="left: 50%;" onclick="blowCandle(this)"></div>
      <div class="candle" id="candle3" style="left: 65%;" onclick="blowCandle(this)"></div>
    </div>
    <div class="button-container">
      <button onclick="resetGame()">Xem láº¡i tá»« Ä‘áº§u ğŸ’•</button>
    </div>
    <audio id="cheerSound" src="https://cdn.pixabay.com/audio/2023/03/29/audio_6b3f6f35f3.mp3"></audio>
  </div>
  <audio id="bgMusic" loop>
    <source src="/birthday-334876.mp3" type="audio/mp3">
    <!-- ÄÆ°á»ng dáº«n tÆ°Æ¡ng Ä‘á»‘i tá»« root directory -->
  </audio>
  <button onclick="toggleMusic()" style="position: fixed; top: 20px; right: 20px;">Báº­t Nháº¡c ğŸ¶</button>

  <script>
    const thingsILove = [
      "CÃ²n nhá»› ngÃ y mÃ¬nh gáº·p nhau, hÃ´m Ä‘áº¥y cÅ©ng khuya khuya cháº¯c táº§m ná»­a Ä‘Ãªm",
      "Nháº¯n Ä‘Æ°á»£c máº¥y cÃ¢u xong add fb, rá»“i trmy rá»§ anh chÆ¡i bÃ i",
      "NÃ³i tháº­t lÃ  Ä‘Ãªm Ä‘áº¥y anh kh há»‘i háº­n Ä‘Ã¢u, láº§n trÆ°á»›c bá»±c tá»©c nÃªn má»›i nÃ³i tháº¿ chá»© Ä‘Ãªm Ä‘Ã³ cháº¯c cÃ³ thá»ƒ coi lÃ  Ä‘Ãªm Ä‘á»‹nh má»‡nh :))",
      "Rá»“i táº§m tuáº§n sau anh chÆ¡i game trong lá»›p, tháº¥y trmy onl xong má»i chÆ¡i (hoáº·c ngÆ°á»£c láº¡i kh nhá»› ná»¯a)",
      "ChÆ¡i dc 1 thá»i gian xong a nháº§m láº«n tÆ°á»Ÿng trmy tá» tÃ¬nh tháº¿ lÃ  yÃªu tá»›i giá» luÃ´n, má»›i Ä‘Ã³ mÃ  Ä‘Ã£ Ä‘Ã³n 3 cÃ¡i sinh nháº­t vá»›i trmy rÃ²i ğŸ¤¯",
      "ChÃºc má»«ng sinh nháº­t bÃ© iu nhÃ³",
      "ChÃºc em tuá»•i má»›i ngÃ y cÃ ng xinh Ä‘áº¹p",
      "Cuá»™c sá»‘ng thuáº­n lá»£i gáº·p nhiá»u may máº¯n cÃ¡c thá»© ğŸ˜‹",
      "Cháº¯c báº¥m tá»›i Ä‘Ã¢y trmy lÆ°á»i Ä‘á»c r nÃªn anh cÃ³ 1 tiáº¿t má»¥c hack thÃ´ng bÃ¡o mÃ¡y trmy, chuáº©n bá»‹ báº¥m tiáº¿p nÃ¨",
      "ting", //1
      ":))", //2
      "ná»¯a nÃ¨", //3
      "ting ting", //4
      "cá»§a Ã­t mÃ  lÃ²ng vÃ²ng ha, thÃ´ng cáº£m nhÃ³", //5
      "Æ¡ mÃ  nhá»¡ mÃ¡y e kh cÃ³ thÃ´ng bÃ¡o thÃ¬ cÅ©ng quÃª láº¯m:))", //6
      "tinggg tingg", //7
      "láº§n thá»© máº¥y rá»“i ta", //8
      "ká»‡ Ä‘i ting ting tiáº¿p nÃ¨", //9
      "hÃ¢y chaa", //10
      "ná»• mÃ¡y chÆ°a", //11
      "con gÃ¬ Ä‘Ã¢y ğŸ¦ˆğŸ‘ŸğŸ‘ŸğŸ‘Ÿ", //12
      "ğŸ˜ğŸŒµ", //13
      "khÃ³ nha â˜•ğŸ¥·", //14
      "VÃ  trmy biáº¿t gÃ¬ kh, tá»« nÃ£y tá»›i giá» trmy báº¥m dc 23 láº§n rá»“i Ã¡ :)) (kh tÃ­nh cÃ¡i nÃ y)", //15
      "Tá»•ng cá»™ng anh ghi chá»¯ ting 7 láº§n", //16
      "CÃ²n 2008 thÃ¬ Ä‘á»ƒ a hÃ´n giÃ³ tráº£ gÃ³p dáº§n nhaa ğŸ¤£" //17 (Ä‘Ã£ sá»­a sá»‘ lÆ°á»£ng cho Ä‘Ãºng)
    ];
    const funFacts = [
      "hehe yÃªu trmy"
    ];
    let clickCount = 0;
    let candlesBlown = 0;
    const music = document.getElementById("bgMusic");
    const cheerSound = document.getElementById("cheerSound");
    const continueButton = document.getElementById("continueButton");
    const loveButton = document.getElementById("loveButton");

    // Äáº£m báº£o Typed.js cháº¡y khi trang táº£i
    document.addEventListener("DOMContentLoaded", function() {
      new Typed('#welcomeText', {
        strings: ["ChÃ o iem yÃªuuu, sáºµn sÃ ng khÃ¡m phÃ¡ mÃ³n quÃ  sinh nháº­t chÆ°a? ğŸ©·"],
        typeSpeed: 50,
        showCursor: false,
      });
    });

    function createHeart() {
      for (let i = 0; i < 3; i++) {
        const heart = document.createElement("div");
        heart.className = "heart";
        heart.innerHTML = "â¤ï¸";
        heart.style.left = `${Math.random() * 100}vw`;
        heart.style.top = `${Math.random() * 50 + 50}vh`;
        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 2500);
      }
    }

    function fireConfetti() {
      confetti({
        particleCount: 150,
        spread: 80,
        origin: { y: 0.6 },
        colors: ['#ff6b8a', '#ff4d6d', '#f7e68a']
      });
    }

    function showLove() {
      const text = document.getElementById("loveText");
      const funFact = document.getElementById("funFact");
      text.style.animation = "none";
      funFact.style.animation = "none";
      setTimeout(() => {
        text.style.animation = "textFade 0.5s forwards";
        funFact.style.animation = "textFade 0.5s forwards";
      }, 10);
      if (clickCount >= thingsILove.length) {
        text.textContent = "Háº¿t rá»“i, nhÆ°ng anh váº«n cÃ²n cáº£ tá»· lÃ½ do Ä‘á»ƒ yÃªu em ğŸ©·";
        funFact.textContent = "";
        continueButton.style.display = "block";
        fireConfetti();
        return;
      }
      text.textContent = thingsILove[clickCount];
      funFact.textContent = funFacts[Math.floor(Math.random() * funFacts.length)];
      clickCount++;
      loveButton.disabled = true;
      setTimeout(() => {
        loveButton.disabled = false;
      }, 2000);
      if (clickCount === thingsILove.length) {
        continueButton.style.display = "block";
      }
      createHeart();
      fireConfetti();
    }

    function goToLove() {
      document.getElementById("welcomeScreen").classList.remove("active");
      document.getElementById("loveScreen").classList.add("active");
    }

    function goToLetter() {
      document.getElementById("loveScreen").classList.remove("active");
      document.getElementById("letterScreen").classList.add("active");
    }

    function goToCake() {
      document.getElementById("letterScreen").classList.remove("active");
      document.getElementById("cakeScreen").classList.add("active");
    }

    function blowCandle(candle) {
      candle.style.display = "none";
      document.querySelector(".cake-img").classList.add("shake");
      setTimeout(() => document.querySelector(".cake-img").classList.remove("shake"), 300);
      candlesBlown++;
      if (candlesBlown === 3) {
        fireConfetti();
        cheerSound.play().catch(err => console.error("Lá»—i phÃ¡t Ã¢m thanh:", err));
        document.getElementById("cakeText").textContent = "ChÃºc em sinh nháº­t vui váº», yÃªu em nhiá»u láº¯m! ğŸ©·";
      }
    }

    function resetGame() {
      clickCount = 0;
      candlesBlown = 0;
      document.getElementById("cakeScreen").classList.remove("active");
      document.getElementById("loveScreen").classList.add("active");
      document.getElementById("loveText").textContent = "Nháº¥n Ä‘á»ƒ biáº¿t máº¥y Ä‘iá»u vu vÆ¡ :))";
      document.getElementById("funFact").textContent = "";
      continueButton.style.display = "none";
      document.querySelectorAll(".candle").forEach(candle => candle.style.display = "block");
      document.getElementById("cakeText").textContent = "ChÃºc má»«ng sinh nháº­t trmyy! Thá»•i náº¿n nÃ o ğŸ‰";
    }

    function toggleMusic() {
      const button = event.target;
      if (music.paused) {
        music.play().then(() => {
          button.textContent = "Táº¯t Nháº¡c ğŸ¶";
        }).catch(err => {
          console.error("Lá»—i phÃ¡t nháº¡c:", err);
          alert("Nháº¡c lá»—i Ã©o báº­t ná»•i");
        });
      } else {
        music.pause();
        button.textContent = "Báº­t Nháº¡c ğŸ¶";
      }
    }
  </script>
</body>
</html>
